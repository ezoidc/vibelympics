var m=Array.from(document.querySelectorAll(".demo-card"));if(m.length)(()=>{let o=new Map;m.forEach((s)=>{let e=s.dataset.symbol;if(!e)return;let t=o.get(e)??[];t.push(s),o.set(e,t)});let a=Array.from(o.keys());if(!a.length)return;if(a.length===1&&a[0])a.push(a[0]);let l=0,r="mismatch",i=(s)=>{let e=(l+s)%a.length,t=e<0?e+a.length:e;return a[t]??a[0]},h=()=>{m.forEach((s)=>{s.dataset.state="idle",s.dataset.match="false",delete s.dataset.feedback})},f=()=>{let s=i(0),e=i(1),t=o.get(s)?.[0],c=o.get(e)?.[0];if(!t||!c)return;[t,c].forEach((n)=>{n.dataset.state="flip"}),window.setTimeout(()=>{[t,c].forEach((n)=>{n.dataset.feedback="bad"})},650),setTimeout(()=>{[t,c].forEach((n)=>{n.dataset.state="idle",delete n.dataset.feedback})},900)},u=()=>{let s=i(0),e=o.get(s)?.slice(0,2);if(!e||e.length<2)return;e.forEach((t)=>{t.dataset.state="flip"}),window.setTimeout(()=>{e.forEach((t)=>{t.dataset.feedback="good"})},650),setTimeout(()=>{e.forEach((t)=>{t.dataset.match="true"})},400),setTimeout(()=>{e.forEach((t)=>{t.dataset.match="false",delete t.dataset.feedback,t.dataset.state="idle"})},2000)},d=()=>{if(h(),r==="mismatch")f(),r="match";else u(),r="mismatch",l=(l+1)%a.length};d(),window.setInterval(d,2600)})();
